/**/
const { AbstractScreen } = await import('./rg-lib/js/abstractScreen.js?ver='+window.srcVersion);
const { CavernView } = await import('./cavernView.js?ver='+window.srcVersion);
/*/
import AbstractScreen from './rg-lib/js/abstractScreen-if.js';
import CavernView from './cavernView-if.js';
/**/

export class CavernScreen extends AbstractScreen {
  
  constructor(canvas, ctx) {
    super(canvas, ctx, 'CavernScreen');

    this.cavernLayout = [
      '1600000000000000000000050000000005000000000000000000000000000016',
      '1600000000000000000000000000000000000000000000000000000000000016',
      '1600000000000000000000000000000000000000000000000000000000000016',
      '1600000000000000000000000000000000000000000000000000000000000016',
      '1600000000000000000000000000000000000000000000440000004400000016',
      '1642424242424242424242424242020202024202020202424242424242424216',
      '1600000000000000000000000000000000000000000000000000000000000016',
      '1642424200000000000000000000000000000000000000000000000000000016',
      '1600000000000000000000000000000000161616004400000000000000000016',
      '1642424242000000040404040404040404040404040404040404040400000016',
      '1600000000000000000000000000000000000000000000000000000000424216',
      '1600000000000000000000000000000000000000000000000000000000000016',
      '1600000000000000000000004400000000000000161616020202020242424216',
      '1600000000424242424242424242424242424242000000000000000000000016',
      '1600000000000000000000000000000000000000000000000000000000000016',
      '1642424242424242424242424242424242424242424242424242424242424216'
    ]; // layout

    this.cavernName = 'Central Cavern';

    this.graphicData = {
      '00': [ // background
        '--------',
        '--------',
        '--------',
        '--------',
        '--------',
        '--------',
        '--------',
        '--------'
      ],
      '42': [ // floor
        '########',
        '########',
        '##-##-##',
        '-##-###-',
        '##---#-#',
        '-#------',
        '--------',
        '--------'
      ],
      '02': [ // crumbling floor
        '########',
        '##-##-##',
        '#-#--#-#',
        '--#--#--',
        '-#-#--#-',
        '--#-----',
        '----#---',
        '--------'
      ],
      '16': [ // wall
        '--#---#-',
        '########',
        '#---#---',
        '########',
        '--#---#-',
        '########',
        '#---#---',
        '########'
      ],
      '04': [ // conveyor
        '####----',
        '-##--##-',
        '####----',
        '-##--##-',
        '--------',
        '#--##--#',
        '########',
        '--------'
      ],
      '44': [ // nasty 1
        '-#---#--',
        '--#-#---',
        '#--#-#--',
        '-#-#---#',
        '--##-#-#',
        '##-#-##-',
        '-#-##---',
        '---#----'
      ],
      '05': [ // nasty 2
        '########',
        '#######-',
        '-######-',
        '-#####--',
        '-#--##--',
        '-#--##--',
        '----#---',
        '----#---'
      ]
    } // graphicData

  } // constructor

  init() {
    super.init();

    this.borderView.backgroundColor = this.zxColor('black');
    this.desktopView.addView(new CavernView(this, 0, 0, 32*8, 16*8));
  } // init

  loopScreen() {
    super.loopScreen();

  } // loopScreen

} // class CavernScreen

export default CavernScreen;
